{"version":3,"sources":["assets/not-found.gif","assets/not-connected.gif","pages/BalancesPage.tsx"],"names":["module","exports","Title","Typography","WrappedCol","styled","Col","getNftByMintAddress","mintAddress","result","USE_NFTS","filter","nft","toBase58","length","RowCard","start","end","array","align","justify","flex","slice","map","balance","key","img","name","supply","marketAddress","walletBalance","BalanceRow","divider","longueur","quotien","Math","floor","reste","MAP_ARRAY","Array","from","v","i","e","TopPage","connected","useWallet","style","paddingTop","level","textAlign","src","notConnected","height","alt","borderRadius","BalancesPage","walletBalances","useWalletBalancesForAllMarkets","openOrdersBalances","useAllOpenOrdersBalances","windowDimensions","useWindowDimensions","data","balances","mint","openOrdersFree","openOrdersTotal","openOrdersAccount","free","total","notFoundGif","width","paddingRight","paddingLeft"],"mappings":"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","file":"static/js/3.c9aead98.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/not-found.0e117165.gif\";","module.exports = __webpack_public_path__ + \"static/media/not-connected.6f26844a.gif\";","import React from 'react';\nimport { Row, Col, Typography } from 'antd';\nimport {\n  useAllOpenOrdersBalances,\n  useWalletBalancesForAllMarkets,\n} from '../utils/markets';\nimport { useWindowDimensions } from '../components/utils';\nimport USE_NFTS, { NFT } from '../nfts';\nimport { NftCardBalance } from '../components/NftCard';\nimport styled from 'styled-components';\nimport { useWallet } from '../utils/wallet';\nimport notConnected from '../assets/not-connected.gif';\nimport notFoundGif from '../assets/not-found.gif';\nconst { Title } = Typography;\n\nconst WrappedCol = styled(Col)`\n  padding: 30px;\n`;\n\nconst getNftByMintAddress = (mintAddress: string): NFT | null => {\n  const result = USE_NFTS.filter(\n    (nft) => nft.mintAddress.toBase58() === mintAddress,\n  );\n  return result.length === 1 ? result[0] : null;\n};\n\nconst RowCard = ({ start, end, array }) => {\n  return (\n    <Row align=\"middle\" justify=\"center\">\n      <Col flex=\"auto\" />\n      {array?.slice(start, end).map((balance: any, key: number) => {\n        return (\n          <>\n            <WrappedCol key={key}>\n              <NftCardBalance\n                img={balance.nft.img}\n                name={balance.nft.name}\n                supply={balance.nft.supply}\n                mintAddress={balance.nft.mintAddress}\n                marketAddress={balance.nft.marketAddress}\n                walletBalance={balance.walletBalance}\n              />\n            </WrappedCol>\n          </>\n        );\n      })}\n      <Col flex=\"auto\" />\n    </Row>\n  );\n};\n\nconst BalanceRow = ({ divider, longueur, array }) => {\n  const quotien = Math.floor(longueur / divider);\n  const reste = longueur % divider;\n  const MAP_ARRAY = Array.from({ length: quotien }, (v, i) => i);\n  return (\n    <>\n      {quotien === 0 && <RowCard start={0} end={reste} array={array} />}\n      {MAP_ARRAY.map((e) => {\n        return <RowCard start={e} end={e + divider} array={array} />;\n      })}\n      <RowCard\n        start={longueur - divider}\n        end={longueur + reste - divider}\n        array={array}\n      />\n    </>\n  );\n};\n\nconst TopPage = () => {\n  const { connected } = useWallet();\n  return (\n    <>\n      <Row style={{ paddingTop: '50px' }} align=\"middle\" justify=\"center\">\n        <Col flex=\"auto\" />\n        <Col>\n          {connected ? (\n            <Title level={2} style={{ textAlign: 'center' }}>\n              Your Collection\n            </Title>\n          ) : (\n            <Title level={2}>Connect your wallet</Title>\n          )}\n        </Col>\n        <Col flex=\"auto\" />\n      </Row>\n      <Row style={{ paddingTop: '10px' }} align=\"middle\" justify=\"center\">\n        <Col flex=\"auto\" />\n        <Col>\n          {connected ? null : (\n            <img\n              src={notConnected}\n              height=\"300px\"\n              alt=\"not connected\"\n              style={{ borderRadius: '20px' }}\n            />\n          )}\n        </Col>\n        <Col flex=\"auto\" />\n      </Row>\n    </>\n  );\n};\n\nexport default function BalancesPage() {\n  const walletBalances = useWalletBalancesForAllMarkets();\n  const openOrdersBalances = useAllOpenOrdersBalances();\n  const windowDimensions = useWindowDimensions();\n  const { connected } = useWallet();\n\n  let data = (walletBalances || []).map((balance) => {\n    const balances = {\n      nft: getNftByMintAddress(balance.mint),\n      mint: balance.mint,\n      walletBalance: balance.balance,\n      openOrdersFree: 0,\n      openOrdersTotal: 0,\n    };\n    for (let openOrdersAccount of openOrdersBalances[balance.mint] || []) {\n      balances['openOrdersFree'] += openOrdersAccount.free;\n      balances['openOrdersTotal'] += openOrdersAccount.total;\n    }\n    return balances;\n  });\n  data = data.filter((balance) => !!balance.nft && balance.walletBalance > 0);\n  const longueur = data.length;\n\n  return (\n    <>\n      <TopPage />\n      {longueur === 0 && connected && (\n        <Row style={{ paddingTop: '50px' }}>\n          <Col flex=\"auto\" />\n          <Col>\n            <Title level={2}>You don't have any NFT in your collection</Title>\n            <img src={notFoundGif} width=\"100%\" alt=\"not found\" />\n          </Col>\n          <Col flex=\"auto\" />\n        </Row>\n      )}\n      {windowDimensions.width > 1600 && (\n        <BalanceRow divider={3} longueur={longueur} array={data} />\n      )}\n      {1100 < windowDimensions.width && windowDimensions.width < 1600 && (\n        <BalanceRow divider={2} longueur={longueur} array={data} />\n      )}\n      {windowDimensions.width < 1100 && (\n        <>\n          {data.map((balance, key) => {\n            return (\n              <WrappedCol\n                style={{ paddingRight: '10%', paddingLeft: '10%' }}\n                key={key}\n              >\n                <NftCardBalance\n                  img={balance.nft?.img}\n                  name={balance.nft?.name}\n                  supply={balance.nft?.supply}\n                  mintAddress={balance.nft?.mintAddress}\n                  marketAddress={balance.nft?.marketAddress}\n                  walletBalance={balance.walletBalance}\n                />\n              </WrappedCol>\n            );\n          })}\n        </>\n      )}\n    </>\n  );\n}\n"],"sourceRoot":""}