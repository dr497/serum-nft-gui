(this["webpackJsonpserum-nft-gui"]=this["webpackJsonpserum-nft-gui"]||[]).push([[6],{675:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n(51),l=n(0),c=n.n(l),u=n(630),i=n(114),o=n(71),s=n(52),m=n(35),d=n(222),b=n(81),f=n(629),p=n(676),g=n(78),E=n(632),y=n(256);function v(){var e=Object(r.a)(["\n  padding-top: 20px;\n  font-size: 16px;\n  text-align: center;\n"]);return v=function(){return e},e}function h(){var e=Object(r.a)(["\n  background: linear-gradient(\n    162.92deg,\n    rgb(43, 43, 43) 12.36%,\n    rgb(0, 0, 0) 94.75%\n  );\n  bordercolor: transparent;\n  border-radius: 25px;\n  cursor: pointer;\n  overflow: hidden;\n  width: 50vw;\n  height: 100%;\n"]);return h=function(){return e},e}function j(){var e=Object(r.a)(["\n  width: auto;\n  height: auto;\n  margin: 20px 0px 0px 0px;\n  background: #f23b69;\n  border-color: #f23b69;\n  &:hover {\n    background: #000;\n    border-color: #000;\n    color: #f23b69;\n  }\n"]);return j=function(){return e},e}var O=f.a.Paragraph,x=p.a.Countdown,k=Date.parse("2020-11-06T21:00:00.000+08:00"),w=Object(s.c)(g.a)(j()),C=Object(s.c)(E.a)(h()),S=Object(s.c)(O)(v()),R=function(e){var t=e.nft,n=e.disabled,a=e.onClick,r={img:{maxWidth:"100%"},parent:{display:"flex",minHeight:"100vh"},children:{margin:"auto"},div:{height:"100%"},countdown:{paddingTop:"10px"}};return c.a.createElement("div",{style:r.div},c.a.createElement(C,null,c.a.createElement(i.a,{align:"middle",justify:"center"},c.a.createElement("div",{style:r.parent},c.a.createElement("div",{style:r.children},c.a.createElement("img",{src:t.img,alt:t.name,style:r.img}),c.a.createElement(S,null,P),c.a.createElement(S,null,I,c.a.createElement(x,{title:"Countdown",value:k,style:r.countdown})),c.a.createElement(i.a,{align:"middle",justify:"center"},c.a.createElement(o.a,{flex:"auto"}),c.a.createElement(o.a,null,c.a.createElement(w,{disabled:n,onClick:a,block:!0,type:"primary",size:"large"},c.a.createElement("span",{style:{paddingRight:10}},"Redeem")," ",c.a.createElement(y.a,{symbol:"\ud83d\udd25",label:"burn",class:"emoji-redeem"}))),c.a.createElement(o.a,{flex:"auto"})))),c.a.createElement(o.a,{flex:"auto"}))))},P="\nThis NFT can be redeemed for a physical Bitcoin Tram model mailed to your door\n",I="\nThe auction will end on 06/11/2020 at 9pm UTC+8\n",q=n(135),F=n(57),T=n(8),A=n.n(T),z=n(15),B=n(631),N=n(678),M=n(327),$=n(674),J=n(679),W=n(680),H=n(681),L=n(682),D=n(683),K=n(684),U={postRedeemForm:"https://bonfida.com/api/redeem"};function G(e,t,n){return Q.apply(this,arguments)}function Q(){return(Q=Object(z.a)(A.a.mark((function e(t,n,a){var r,l;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",body:JSON.stringify(n),headers:a});case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return",[]);case 6:return e.next=8,r.json();case 8:return l=e.sent,e.abrupt("return",l);case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",[]);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var V=function(){var e=Object(z.a)(A.a.mark((function e(t){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G(U.postRedeemForm,t,{});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=n(58),Y=n(100),Z=n(41),_=n(42);function ee(){var e=Object(r.a)(["\n  .ant-input-number-input {\n    color: black;\n  }\n"]);return ee=function(){return e},e}function te(){var e=Object(r.a)(["\n  .ant-input {\n    color: black;\n  }\n"]);return te=function(){return e},e}var ne=Object(s.c)(B.a)(te()),ae=Object(s.c)(N.a)(ee()),re=function(){var e=c.a.createElement(J.a,{style:{fontSize:24},spin:!0});return c.a.createElement(M.a,{indicator:e})},le={labelCol:{span:8},wrapperCol:{span:16}},ce={required:"${label} is required!",types:{email:"${label} is not a valid email!",number:"${label} is not a valid number!"},number:{range:"${label} must be between ${min} and ${max}"}},ue=function(){return c.a.createElement("div",{style:{textAlign:"center",paddingLeft:60,paddingTop:20}},"If you are having issues redeeming please email"," ",c.a.createElement("a",{href:"mailto:redeem@solible.com"},"redeem@solible.com"))},ie=function(e){var t=e.nftMint,n=e.destination,r=Object(l.useState)(1),u=Object(a.a)(r,2),s=u[0],d=u[1],b=Object(l.useState)(!1),f=Object(a.a)(b,2),p=f[0],E=f[1],y=Object(Z.e)(),v=Object(X.c)().wallet,h=Object(m.s)(),j=Object(a.a)(h,1)[0],O=null===j||void 0===j?void 0:j.filter((function(e){return e.effectiveMint.toBase58()===t.toBase58()})),x=Object(l.useRef)(null),k=Object(l.useRef)(null),w=Object(l.useRef)(null),C=Object(l.useRef)(0),S=Object(l.useRef)(null),R=Object(l.useRef)(null),P=Object(l.useRef)(null),I=Object(l.useRef)(null),q=Object(l.useRef)(null);if(!O||0===(null===O||void 0===O?void 0:O.length))return console.log("Error getting source"),null;var T={icon:{color:"black"},label:{color:"black",fontSize:16,fontWeight:700},placeHolder:{color:"black"}},B=function(){var e=Object(z.a)(A.a.mark((function e(t){var a,r,l,c;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!0),e.prev=1,(r=Math.round(C.current))&&!(r<=0)){e.next=5;break}throw new Error("Invalid amount");case 5:return e.next=7,Object(Y.d)({connection:y,owner:v.publicKey,sourceSpl:null===(a=O[0])||void 0===a?void 0:a.pubkey,destination:n,amount:r,wallet:v});case 7:return l=e.sent,c={email:x.current,name:k.current,phone:w.current,amount:C.current,country:S.current,city:R.current,address:P.current,postcode:I.current,"additional-information":q.current,txId:l},e.next=11,V(c);case 11:Object(_.a)({message:"Redeem request successful",type:"success",txid:l}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.log("Error redeeming: ".concat(e.t0)),Object(_.a)({message:"Error redeeming",type:"error"});case 18:return e.prev=18,E(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,14,18,21]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(i.a,null,c.a.createElement(o.a,{flex:"auto"}),c.a.createElement(o.a,{flex:"auto",style:{color:"black"}},c.a.createElement($.a,Object.assign({},le,{name:"redeem",onFinish:B,validateMessages:ce,style:{paddingTop:20,paddingRight:40,color:"black"}}),1===s&&c.a.createElement(c.a.Fragment,null,c.a.createElement($.a.Item,{name:["user","email"],label:c.a.createElement("div",{style:T.label},"Email"),rules:[{type:"email",required:!0}],style:T.icon},c.a.createElement(ne,{prefix:c.a.createElement(W.a,{style:T.icon}),onChange:function(e){return x.current=e.target.value}})),c.a.createElement($.a.Item,{name:["user","name"],label:c.a.createElement("div",{style:T.label},"Name"),rules:[{required:!0,message:"Please enter your name"}]},c.a.createElement(ne,{prefix:c.a.createElement(H.a,{style:T.icon}),onChange:function(e){return k.current=e.target.value}})),c.a.createElement($.a.Item,{name:["user","phone"],label:c.a.createElement("div",{style:T.label},"Phone Number"),rules:[{required:!0,message:"Please input your phone number"}]},c.a.createElement(ne,{prefix:c.a.createElement(L.a,{style:T.icon}),onChange:function(e){return w.current=e.target.value}})),c.a.createElement($.a.Item,{name:["user","amount"],label:c.a.createElement("div",{style:T.label},"Amount to redeem"),rules:[{required:!0,message:"Please enter the amount of token you want to redeem",type:"number",min:0,max:99}]},c.a.createElement(ae,{onChange:function(e){e&&(C.current=parseFloat(e.toString()))}})),c.a.createElement(i.a,{align:"middle",justify:"center"},c.a.createElement(o.a,{flex:"auto"}),c.a.createElement(o.a,null,c.a.createElement(g.a,{type:"primary",onClick:function(){return d(2)}},"Next")),c.a.createElement(o.a,{flex:"auto"}))),2===s&&c.a.createElement(c.a.Fragment,null,c.a.createElement($.a.Item,{name:["user","country"],label:c.a.createElement("div",{style:T.label},"Country"),rules:[{required:!0,message:"Please enter your country"}]},c.a.createElement(ne,{prefix:c.a.createElement(D.a,{style:T.icon}),onChange:function(e){return S.current=e.target.value}})),c.a.createElement($.a.Item,{name:["user","City"],label:c.a.createElement("div",{style:T.label},"City"),rules:[{required:!0,message:"Please enter your city"}]},c.a.createElement(ne,{prefix:c.a.createElement(D.a,{style:T.icon}),onChange:function(e){return R.current=e.target.value}})),c.a.createElement($.a.Item,{name:["user","address"],label:c.a.createElement("div",{style:T.label},"Address"),rules:[{required:!0,message:"Please enter your address"}]},c.a.createElement(ne,{prefix:c.a.createElement(D.a,{style:T.icon}),onChange:function(e){return P.current=e.target.value}})),c.a.createElement($.a.Item,{name:["user","postcode"],label:c.a.createElement("div",{style:T.label},"Postcode"),rules:[{required:!0,message:"Please enter your postcode"}]},c.a.createElement(ne,{prefix:c.a.createElement(D.a,{style:T.icon}),onChange:function(e){return I.current=e.target.value}})),c.a.createElement($.a.Item,{name:["user","additional-information"],label:c.a.createElement("div",{style:T.label},"Additional information"),rules:[{required:!1}]},c.a.createElement(ne,{onChange:function(e){return q.current=e.target.value},prefix:c.a.createElement(K.a,{style:T.icon})})),c.a.createElement($.a.Item,{wrapperCol:Object(F.a)(Object(F.a)({},le.wrapperCol),{},{offset:8})},c.a.createElement(i.a,{align:"middle",justify:"center"},c.a.createElement(o.a,{style:{padding:10}},c.a.createElement(g.a,{type:"primary",onClick:function(){return d(1)}},"Back")),c.a.createElement(o.a,{style:{padding:10}},c.a.createElement(g.a,{type:"primary",htmlType:"submit",disabled:p},p?c.a.createElement(re,null):"Submit")))))),c.a.createElement(ue,null)),c.a.createElement(o.a,{flex:"auto"}))};function oe(){var e=Object(r.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 16px 16px;\n  .borderNone .ant-select-selector {\n    border: none !important;\n  }\n"]);return oe=function(){return e},e}var se=b.b[0],me=s.c.div(oe()),de=function(e){var t=e.onChangeOrderRef,n=e.onPrice,r=e.onSize,s=Object(q.a)(),b=Object(m.t)(),f=Object(l.useState)(!0),p=Object(a.a)(f,2),g=p[0],E=p[1],y=Object(l.useState)(!1),v=Object(a.a)(y,2),h=v[0],j=v[1],O=Object(X.c)().connected;Object(l.useEffect)((function(){b&&E(!(b.filter((function(e){return e.mint===se.mintAddress.toBase58()})).length>0))}),[b]);var x={parent:{display:"flex",flexWrap:"wrap"},child:{flex:1,paddingRight:20,paddingLeft:20},img:{width:"100%",paddingBottom:30},body:{background:"white",color:"black"},mask:{background:"transparent"},modal:{background:"transparent"}};return se&&se.redeemAddress?c.a.createElement(c.a.Fragment,null,s.width>1210&&c.a.createElement("div",{style:x.parent},c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:x.child},c.a.createElement(R,{nft:se,disabled:g,onClick:function(){j(!0)}})),c.a.createElement("div",{style:x.child},c.a.createElement(d.b,{nft:se,setChangeOrderRef:t,smallScreen:!1,onPrice:n,onSize:r})),c.a.createElement(u.a,{closable:!1,visible:h&&O,onOk:function(){return j(!1)},onCancel:function(){return j(!1)},width:"800px",centered:!0,keyboard:!0,maskClosable:!0,bodyStyle:x.body,maskStyle:x.mask,style:x.modal,footer:null},c.a.createElement(ie,{nftMint:se.mintAddress,destination:se.redeemAddress})))),s.width<1210&&c.a.createElement(c.a.Fragment,null,c.a.createElement(i.a,{align:"middle",justify:"center"},c.a.createElement(o.a,{flex:"auto"}),c.a.createElement(o.a,null,c.a.createElement("img",{src:se.img.toString(),alt:se.name,style:x.img})),c.a.createElement(o.a,{flex:"auto"})),c.a.createElement(i.a,{align:"middle",justify:"center"},c.a.createElement(o.a,{flex:"auto"}),c.a.createElement(o.a,null,c.a.createElement(d.b,{nft:se,setChangeOrderRef:t,smallScreen:!1,onPrice:n,onSize:r})),c.a.createElement(o.a,{flex:"auto"})))):null};t.default=function(){var e=Object(m.j)(),t=e.marketName,n=e.setMarketAddress;Object(l.useEffect)((function(){n(se.marketAddress.toBase58())}),[n]),Object(l.useEffect)((function(){document.title=t?"".concat(t," \u2014 Solible"):"Solible"}),[t]);var a=Object(l.useRef)(),r={onChangeOrderRef:function(e){return a.current=e},onPrice:Object(l.useCallback)((function(e){return a.current&&a.current({price:e})}),[]),onSize:Object(l.useCallback)((function(e){return a.current&&a.current({size:e})}),[])};return c.a.createElement(c.a.Fragment,null,c.a.createElement(me,null,c.a.createElement(de,r)))}}}]);
//# sourceMappingURL=6.0e939c72.chunk.js.map